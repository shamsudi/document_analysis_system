<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Document Analysis System - Query and analyze documents">
    <title>Document Analysis System</title>
    <style>
        /* Existing styles */
        .topic-selector { margin: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .topic-item { margin: 10px 0; }
        .query-section { margin: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .response-section { margin: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; background-color: #f9f9f9; }
        .error-message { color: #d32f2f; padding: 10px; margin: 10px 0; border-radius: 4px; background-color: #ffebee; display: none; }
        .loading { cursor: wait; opacity: 0.7; }
        textarea { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; min-height: 100px; resize: vertical; }
        button { padding: 8px 16px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; transition: background-color 0.3s ease; }
        button:hover { background-color: #45a049; }
        button:disabled { background-color: #cccccc; cursor: not-allowed; }
        @media (max-width: 768px) {
            .query-section textarea { height: 100px; }
            button { width: 100%; margin-top: 10px; }
            .topic-selector, .query-section, .response-section { margin: 10px; padding: 10px; }
        }
        /* New styles for health status */
        .health-status {
            margin: 10px 20px;
            padding: 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        .health-status.healthy {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        .health-status.unhealthy {
            background-color: #ffebee;
            color: #d32f2f;
        }
    </style>
</head>
<body>
    <!-- Health status indicator -->
    <div class="health-status" id="healthStatus" role="status" aria-live="polite">Checking backend health...</div>
    
    <!-- Error message container -->
    <div class="error-message" id="errorMessage" role="alert" aria-hidden="true"></div>
    
    <!-- Topic selection section -->
    <div class="topic-selector" role="region" aria-label="Topic Filter">
        <h3>Filter by Topic:</h3>
        <div class="topic-list" id="topicList" role="listbox"></div>
    </div>

    <!-- Query input section -->
    <div class="query-section" role="region" aria-label="Query Input">
        <textarea 
            id="questionInput"
            rows="4" 
            cols="50"
            placeholder="Enter your question..."
            aria-label="Query input"
            aria-describedby="input-help"
        ></textarea>
        <small id="input-help" class="help-text">Enter your question about the documents</small>
        <button 
            id="submitButton"
            onclick="submitQuery()"
            aria-label="Submit query"
        >
            Ask Question
        </button>
    </div>

    <!-- Response display section -->
    <div 
        class="response-section" 
        role="region" 
        aria-label="Query Response"
    >
        <pre id="responseOutput"></pre>
    </div>

    <!-- No JavaScript fallback -->
    <noscript>
        <div class="error-message" role="alert">
            JavaScript is required for this application to work properly.
        </div>
    </noscript>

    <script src="static/script.js"></script>
</body>
</html>